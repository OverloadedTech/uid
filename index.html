<!DOCTYPE html>
<html>
<head>
  <title>Generatore UID</title>
</head>
<body>
  <h1>Generatore UID</h1>
  <p>Quanti UID vuoi generare?</p>
  <input type="number" id="numUIDs" value="5">
  <p>Inserisci l'URL del webhook di Discord:</p>
  <input type="text" id="webhookURL" value="https://discordapp.com/api/webhooks/xxxxxxxxxxxxx/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
  <br><br>
  <button onclick="generateUIDsAndSendToDiscord()">Genera UID e invia a Discord</button>
  <br><br>
  <div id="log"></div>
  <script>
    var logger = function(msg) {
      var log = document.getElementById("log");
      log.innerHTML += "<p>" + msg + "</p>";
    };

    var generateUID = function() {
      var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      var uid = "";
      for (var i = 0; i < 5; i++) {
        for (var j = 0; j < 5; j++) {
          uid += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        if (i < 4) {
          uid += "-";
        }
      }
      return uid;
    };

    var generateUIDs = function(numUIDs) {
      var uids = [];
      for (var i = 0; i < numUIDs; i++) {
        uids.push(generateUID());
      }
      return uids;
    };

    var sendUIDsToDiscord = function(webhookURL, uids) {
      var xhr = new XMLHttpRequest();
      xhr.open("POST", webhookURL, true);
      xhr.setRequestHeader('Content-Type', 'application/json');

      var message = "Ecco gli UID generati: " + uids.join(", ");
      var data = {
        "content": message
      };

      xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          logger("Codice di stato HTTP: " + xhr.status);
          logger("Messaggio di risposta: " + xhr.responseText);
        }
      };

      xhr.send(JSON.stringify(data));
    };

    var generateUIDsAndSendToDiscord = function() {
      var numUIDs = parseInt(document.getElementById("numUIDs").value);
      var webhookURL = document.getElementById("webhookURL").value;

      var uids = generateUIDs(numUIDs);
      logger("Generati " + numUIDs + " UID:");
      logger(uids.join(", "));

      sendUIDsToDiscord(webhookURL, uids);
    };
  </script>
</body>
</html>
