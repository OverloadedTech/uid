<!DOCTYPE html>
<html>
<head>
	<title>Generatore di UID per Discord</title>
</head>
<body>
	<h1>Generatore di UID per Discord</h1>
	<label for="num_uids">Quanti UID vuoi generare?</label>
	<input type="number" id="num_uids" name="num_uids" min="1" max="100" required><br><br>
	<label for="discord_webhook">Inserisci l'URL del webhook di Discord:</label>
	<input type="text" id="discord_webhook" name="discord_webhook" required><br><br>
	<button type="button" onclick="generateUIDs()">Genera UID</button>

	<h2>Log delle attività</h2>
	<ul id="log"></ul>

	<script>
		function generateUIDs() {
			var num_uids = document.getElementById("num_uids").value;
			var discord_webhook = document.getElementById("discord_webhook").value;
			var uids = [];

			// Generazione degli UID
			for (var i = 0; i < num_uids; i++) {
				var uid = '';
				for (var j = 0; j < 5; j++) {
					uid += Math.floor(Math.random() * 100000).toString().padStart(5, '0');
					if (j != 4) {
						uid += '-';
					}
				}
				uids.push(uid);
			}

			// Invio degli UID al webhook di Discord
			var xhr = new XMLHttpRequest();
			xhr.open("POST", discord_webhook, true);
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.send(JSON.stringify({ uids: uids }));

			// Visualizzazione dei dettagli della richiesta nella console del browser
			xhr.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					logActivity("La richiesta è stata inviata con successo al webhook di Discord!");
					logActivity("Codice di stato HTTP: " + this.status);
					logActivity("Corpo della risposta: " + this.responseText);
				} else if (this.readyState == 4 && this.status != 200) {
					logActivity("La richiesta non è stata inviata al webhook di Discord.");
					logActivity("Codice di stato HTTP: " + this.status);
					logActivity("Messaggio di errore: " + this.responseText);
				}
			}
		}

		function logActivity(activity) {
			var log = document.getElementById("log");
			var timestamp = new Date().toLocaleString();
			var message = timestamp + " - " + activity;
			var listItem = document.createElement("li");
			listItem.appendChild(document.createTextNode(message));
			log.appendChild(listItem);
		}
	</script>
</body>
</html>
