<!DOCTYPE html>
<html>
<head>
	<title>Generatore UID</title>
</head>
<body>
	<h1>Generatore UID</h1>
	<label for="num-uid">Quanti UID vuoi generare?</label>
	<input type="number" id="num-uid" value="1">
	<button onclick="generaUID()">Genera UID</button>
	<div id="log"></div>

	<script>
		function generaUID() {
			let numUID = document.getElementById("num-uid").value;
			let uids = [];

			for (let i = 0; i < numUID; i++) {
				let uid = "";
				for (let j = 0; j < 8; j++) {
					uid += Math.floor(Math.random() * 16).toString(16);
				}
				uid += "-";
				for (let j = 0; j < 4; j++) {
					uid += Math.floor(Math.random() * 16).toString(16);
				}
				uid += "-4";
				for (let j = 0; j < 3; j++) {
					uid += Math.floor(Math.random() * 16).toString(16);
				}
				uid += "-";
				let variant = (Math.floor(Math.random() * 4) + 8).toString(16);
				uid += variant;
				for (let j = 0; j < 3; j++) {
					uid += Math.floor(Math.random() * 16).toString(16);
				}
				uid += "-";
				for (let j = 0; j < 12; j++) {
					uid += Math.floor(Math.random() * 16).toString(16);
				}
				uids.push(uid);
			}

			let log = document.getElementById("log");
			log.innerHTML = "";
			for (let i = 0; i < uids.length; i++) {
				log.innerHTML += uids[i] + "<br>";
			}

			let link = document.createElement("a");
			link.href = "data:text/plain;charset=utf-8," + encodeURIComponent(uids.join("\n"));
			link.download = "uids.txt";
			link.innerHTML = "Scarica UID";
			log.appendChild(document.createElement("br"));
			log.appendChild(link);
		}
	</script>
</body>
</html>
